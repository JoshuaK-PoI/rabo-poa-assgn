<div class="container">
  <div [formGroup]="searchForm">
    <mat-form-field class="search-input input-full-width">
      <mat-label>Search by surname, postal code, ...</mat-label>
      <input matInput type="text" formControlName="searchTerm" />
      @if (searchForm.controls.searchTerm.value) {
      <button
        mat-icon-button
        matSuffix
        (click)="searchForm.controls.searchTerm.reset()"
      >
        <mat-icon>close</mat-icon>
      </button>
      }
    </mat-form-field>
  </div>

  <mat-card>
    <table mat-table [dataSource]="customers" matSort>
      <ng-container matColumnDef="initials">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Initials</th>
        <td mat-cell *matCellDef="let customer">{{ customer.initials }}</td>
      </ng-container>

      <ng-container matColumnDef="surname">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Surname</th>
        <td mat-cell *matCellDef="let customer">{{ customer.surname }}</td>
      </ng-container>

      <ng-container matColumnDef="surnamePrefix">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          Surname prefix
        </th>
        <td mat-cell *matCellDef="let customer">
          {{ customer.surnamePrefix }}
        </td>
      </ng-container>

      <ng-container matColumnDef="postalCode">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>Postal code</th>
        <td mat-cell *matCellDef="let customer">
          {{ customer.postalCode }}
        </td>
      </ng-container>

      <ng-container matColumnDef="houseNumber">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>House number</th>
        <td mat-cell *matCellDef="let customer">
          {{ customer.houseNumber }}
        </td>
      </ng-container>

      <ng-container matColumnDef="houseNumberExtension">
        <th mat-header-cell *matHeaderCellDef mat-sort-header>
          House number extension
        </th>
        <td mat-cell *matCellDef="let customer">
          {{ customer.houseNumberExtension }}
        </td>
      </ng-container>
      <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
      <tr
        mat-row
        *matRowDef="let row; columns: displayedColumns"
        (click)="navigate(row.id)"
      ></tr>

      <tr class="mat-row" *matNoDataRow>
        <td class="mat-cell" colspan="6">No data</td>
      </tr>
    </table>

    <mat-paginator
      [pageSizeOptions]="[10, 20, 50, 100]"
      aria-label="Select page"
      showFirstLastButtons
    ></mat-paginator>
  </mat-card>
</div>
